<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Plano de Projeto - MVP IA para Acupuntura</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      margin: 2rem;
      background-color: #f9f9f9;
      color: #333;
    }
    h1, h2, h3 {
      color: #2c3e50;
    }
    code {
      background-color: #e8e8e8;
      padding: 2px 4px;
      border-radius: 4px;
      font-size: 0.95em;
    }
    pre {
      background: #eee;
      padding: 1em;
      overflow-x: auto;
      border-left: 4px solid #ccc;
    }
    .check {
      color: green;
      font-weight: bold;
    }
    .warn {
      color: #d35400;
      font-weight: bold;
    }
    ul {
      margin-top: 0;
    }
    table {
      border-collapse: collapse;
      width: 100%;
    }
    table, th, td {
      border: 1px solid #ccc;
    }
    th, td {
      padding: 8px;
      text-align: left;
    }
    thead {
      background-color: #e0e0e0;
    }
  </style>
</head>
<body>
  <h1>ğŸ“‹ Plano de Projeto - MVP com IA para Acupuntura</h1>

  <h2>ğŸ¯ Objetivo Geral</h2>
  <p>Criar uma aplicaÃ§Ã£o local em Python para gravaÃ§Ã£o de sessÃµes entre acupunturista e paciente, com transcriÃ§Ã£o automÃ¡tica, separaÃ§Ã£o por falante (diarizaÃ§Ã£o) e organizaÃ§Ã£o da informaÃ§Ã£o em ficha clÃ­nica.</p>

  <h2>ğŸ§± Etapas do Projeto</h2>

  <h3>âœ… Etapa 1 â€“ Estrutura Inicial do Projeto</h3>
  <p>Organizar diretÃ³rios e arquivos:</p>
  <pre><code>acupuntura_mvp/
â”œâ”€â”€ audio/               # Ãudios gravados
â”œâ”€â”€ transcricao/         # TranscriÃ§Ãµes brutas
â”œâ”€â”€ output/              # Fichas geradas
â”œâ”€â”€ gui/                 # CÃ³digo da interface grÃ¡fica
â”œâ”€â”€ models/              # Modelos e LLMs
â”œâ”€â”€ scripts/             # UtilitÃ¡rios
â”œâ”€â”€ requirements.txt     # DependÃªncias
â””â”€â”€ main.py              # Script principal</code></pre>

  <h3>âœ… Etapa 2 â€“ Interface GrÃ¡fica com GravaÃ§Ã£o, Pausa e Retomada</h3>
  <p><span class="check">Nova etapa!</span> Interface Tkinter simples e amigÃ¡vel com:</p>
  <ul>
    <li>Campo para nome do paciente</li>
    <li>BotÃµes: ğŸ¤ Iniciar, â¸ï¸ Pausar, â–¶ï¸ Retomar, â¹ï¸ Parar</li>
    <li>Status: "Gravando...", "Pausado", tempo corrido</li>
  </ul>
  <p><strong>LÃ³gica:</strong> cada trecho entre Iniciar e Pausar Ã© salvo separadamente. ApÃ³s o clique em Parar, todos sÃ£o concatenados em um Ãºnico <code>.wav</code>.</p>

  <h3>âœ… Etapa 3 â€“ TranscriÃ§Ã£o com Whisper (com instalaÃ§Ã£o)</h3>
  <ul>
    <li><strong>Instalar:</strong>
      <pre><code>pip install git+https://github.com/openai/whisper.git</code></pre>
    </li>
    <li><strong>Requer:</strong> Python 3.8+, Git, ffmpeg (<code>sudo apt install ffmpeg</code>)</li>
    <li><strong>Executar:</strong>
      <pre><code>whisper audio/arquivo.wav --language Portuguese --model medium</code></pre>
    </li>
    <li>Resultado: arquivos <code>.txt</code>, <code>.srt</code>, <code>.json</code> na mesma pasta</li>
  </ul>

  <h3>âœ… Etapa 4 â€“ DiarizaÃ§Ã£o de Falantes com pyannote.audio (com instalaÃ§Ã£o)</h3>
  <ul>
    <li><strong>Instalar:</strong>
      <pre><code>pip install pyannote.audio</code></pre>
    </li>
    <li><strong>PrÃ©-requisitos:</strong> conta na Hugging Face + token + <code>huggingface-cli login</code></li>
    <li><strong>Exemplo:</strong>
      <pre><code>from pyannote.audio import Pipeline
pipeline = Pipeline.from_pretrained("pyannote/speaker-diarization", use_auth_token="SEU_TOKEN")
diarization = pipeline("audio/arquivo.wav")
with open("transcricao/arquivo.rttm", "w") as f:
    diarization.write_rttm(f)</code></pre>
    </li>
    <li>SaÃ­da: segmentos com falantes (speaker_1, speaker_2)</li>
  </ul>

  <h3>âœ… Etapa 5 â€“ OrganizaÃ§Ã£o da Ficha ClÃ­nica</h3>
  <p>Transformar a transcriÃ§Ã£o em formato estruturado:</p>
  <pre><code>{
  "nome": "Pedro Silva",
  "data": "2025-06-22",
  "queixa_principal": "Dores nas costas",
  "respostas_do_paciente": [...],
  "observacoes": "Paciente com histÃ³rico de estresse."
}</code></pre>

  <h3>âœ… Etapa 6 â€“ (Opcional) Resumo com LLM</h3>
  <ul>
    <li>Usar LLM local (Ollama, llama.cpp) ou GPT via API</li>
    <li><strong>Prompt sugerido:</strong>
      <blockquote>Com base na transcriÃ§Ã£o abaixo, identifique os principais sintomas, queixas e respostas do paciente, e gere um resumo clÃ­nico.</blockquote>
    </li>
  </ul>

  <h3>âœ… Etapa 7 â€“ ExportaÃ§Ã£o</h3>
  <ul>
    <li>Gerar PDF, Markdown ou JSON com a ficha</li>
    <li>Ferramentas: <code>fpdf</code>, <code>reportlab</code>, <code>json</code></li>
  </ul>

  <h2>ğŸ§° Stack Recomendada</h2>
  <table>
    <thead>
      <tr><th>Etapa</th><th>Ferramenta</th></tr>
    </thead>
    <tbody>
      <tr><td>Interface</td><td><code>Tkinter</code></td></tr>
      <tr><td>Ãudio</td><td><code>sounddevice</code>, <code>numpy</code>, <code>scipy</code></td></tr>
      <tr><td>TranscriÃ§Ã£o</td><td><code>Whisper</code></td></tr>
      <tr><td>DiarizaÃ§Ã£o</td><td><code>pyannote.audio</code></td></tr>
      <tr><td>LLM</td><td>GPT-4, Mistral, Ollama</td></tr>
      <tr><td>ExportaÃ§Ã£o</td><td><code>fpdf</code>, <code>reportlab</code></td></tr>
    </tbody>
  </table>

  <h2>ğŸ” Termos para Pesquisa</h2>
  <ul>
    <li><strong>"Tkinter GUI Python passo a passo"</strong></li>
    <li><strong>"Python gravaÃ§Ã£o de Ã¡udio com pausa"</strong></li>
    <li><strong>"Whisper transcriÃ§Ã£o portuguÃªs"</strong></li>
    <li><strong>"pyannote diarization speaker separation"</strong></li>
    <li><strong>"Python JSON to PDF"</strong></li>
    <li><strong>"LLM summarization local Ollama llama.cpp"</strong></li>
  </ul>

  <h2>ğŸ“Œ Fluxo Geral do MVP</h2>
  <pre><code>[GUI] â†’ Grava .WAV â†’ Transcreve (Whisper) â†’ Diariza (pyannote) â†’ Organiza Ficha â†’ (LLM opcional) â†’ Exporta</code></pre>
</body>
</html>
